{"GENERAL": {"accessLevel": "PROJECT_OWNER", "bucketOptions": {"requesterPays": false}, "canCompute": true, "canShare": true, "catalog": false, "owners": ["jkalfon@broadinstitute.org", "wcolgan@broadinstitute.org", "jnoorbak@broadinstitute.org"], "workspace": {"attributes": {"referenceData_hg38_known_indels_sites_VCFs": {"itemsType": "AttributeValue", "items": ["gs://gcp-public-data--broad-references/hg38/v0/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz", "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.known_indels.vcf.gz"]}, "referenceData_hg38_ref_fasta": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta", "referenceData_b37Human_mills_resource_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/Mills_and_1000G_gold_standard.indels.b37.sites.vcf.idx", "referenceData_hg38_ref_alt": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.alt", "referenceData_hg38_ref_amb": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.amb", "referenceData_b37Human_axiomPoly_resource_vcf": "gs://gcp-public-data--broad-references/hg19/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.vcf.gz", "referenceData_hg38_axiomPoly_resource_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.hg38.vcf.gz.tbi", "referenceData_b37Human_ref_dict": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.dict", "referenceData_b37Human_ref_fasta": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta", "referenceData_hg38_ref_fasta_index": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.fai", "referenceData_b37Human_one_thousand_genomes_resource_vcf": "gs://gcp-public-data--broad-references/hg19/v0/1000G_phase1.snps.high_confidence.b37.vcf.gz", "referenceData_b37Human_omni_resource_vcf": "gs://gcp-public-data--broad-references/hg19/v0/1000G_omni2.5.b37.vcf.gz", "referenceData_hg38_mills_resource_vcf": "gs://gcp-public-data--broad-references/hg38/v0/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz", "description": "# CCLE_SNP_QC\n\n## About\n\nThis workspace is for analysing the SNP profile of each Bam file loaded in the CCLE data. The goal is to validate that there was no drift, mislabelling or sample swaps.\n\n## What it contains\n\n### Data\n\nThe [fingerprints](https://console.cloud.google.com/storage/browser/fc-secure-6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6/fingerprints?authuser=0) directory contains hg38 fingerprint VCFs for all CCLE Bams generated with the ccle_29k_coding_snps set.\n\n### Workflows\n\n**fingerprint_bam** uses Picard ExtractFingerprint to fingerprint a Bam using the specified SNP set. The output is VCF file with allele fraction and posterior likelihoods across the SNPs.\n\n**fingerprint_bam_with_liftover** uses Picard ExtractFingerprint to fingerprint a Bam using the specified SNP set and then uses Picard LiftoverVcf to liftover the fingerprint. The output is VCF file lifted over to the specified genome version with allele fraction and posterior likelihoods across the SNPs. Since the fingerprint VCFs in [fingerprints](https://console.cloud.google.com/storage/browser/fc-secure-6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6/fingerprints?authuser=0) are hg38 this is useful for fingerprinting and comparing hg19 Bam files.\n\n**crosscheck_vcfs** uses Picard CrosscheckFingerprints to compare two lists of fingerprints and generate an log-odds (LOD) matrix. *vcf_input_file* and *vcf_second_input_file* should lists of VCFs generated using *haplotype_map*. The output is a TSV file with each line corresponding to a comparision between an input file and a second input file. \n\n## how to use\n\nThis pipeline is automated by [Fingerprint_CCLE](https://github.com/broadinstitute/depmap_omics/blob/master/Fingerprint_CCLE.ipynb). \n\nIf you want to fingerprint a one or more non CCLE Bams:\n\n1. Run **fingerprint_bam** if the Bams are hg38 or **fingerprint_bam_with_liftover** if the Bams are a different genome version.\n2. Run **crosscheck_vcfs** to compare the fingerprint VCFs to each other or the CCLE fingerprint VCFs in [fingerprints](https://console.cloud.google.com/storage/browser/fc-secure-6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6/fingerprints?authuser=0). **NOTE:** because of memory requirements you should not compare your fingerprints to all the CCLE fingerprints in a single run. Instead you should split this comparison up into multiple jobs.\n\n", "referenceData_b37Human_mills_resource_vcf": "gs://gcp-public-data--broad-references/hg19/v0/Mills_and_1000G_gold_standard.indels.b37.sites.vcf", "referenceData_hg38_one_thousand_genomes_resource_vcf": "gs://gcp-public-data--broad-references/hg38/v0/1000G_phase1.snps.high_confidence.hg38.vcf.gz", "referenceData_hg38_dbsnp_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf.idx", "referenceData_b37Human_unpadded_intervals_file": "gs://gatk-test-data/intervals/wgs_calling_regions.v1.list", "referenceData_b37Human_ref_pac": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.64.pac", "referenceData_b37Human_scattered_calling_intervals_list": "gs://gatk-test-data/intervals/b37_wgs_scattered_calling_intervals.txt", "referenceData_b37Human_ref_bwt": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.64.bwt", "referenceData_hg38_known_indels_sites_indices": {"itemsType": "AttributeValue", "items": ["gs://gcp-public-data--broad-references/hg38/v0/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz.tbi", "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.known_indels.vcf.gz.tbi"]}, "referenceData_hg38_one_thousand_genomes_resource_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/1000G_phase1.snps.high_confidence.hg38.vcf.gz.tbi", "referenceData_hg38_call_interval_list": "gs://gcp-public-data--broad-references/hg38/v0/wgs_calling_regions.hg38.interval_list", "referenceData_b37Human_ref_ann": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.64.ann", "referenceData_b37Human_ref_amb": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.64.amb", "referenceData_b37Human_axiomPoly_resource_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.vcf.gz.tbi", "referenceData_b37Human_ref_name": "b37", "referenceData_hg38_ref_dict": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.dict", "referenceData_hg38_dbsnp_vcf": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf", "referenceData_b37Human_one_thousand_genomes_resource_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/1000G_phase1.snps.high_confidence.b37.vcf.gz.tbi", "referenceData_b37Human_known_indels_sites_indices": {"itemsType": "AttributeValue", "items": ["gs://gcp-public-data--broad-references/hg19/v0/Mills_and_1000G_gold_standard.indels.b37.vcf.gz.tbi", "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.known_indels_20120518.vcf.idx"]}, "referenceData_hg38_mills_resource_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz.tbi", "referenceData_hg38_ref_sa": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.sa", "referenceData_b37Human_dbsnp_vcf": "gs://gcp-public-data--broad-references/hg19/v0/dbsnp_138.b37.vcf.gz", "referenceData_b37Human_dbsnp_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/dbsnp_138.b37.vcf.gz.tbi", "referenceData_hg38_hapmap_resource_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/hapmap_3.3.hg38.vcf.gz.tbi", "referenceData_b37Human_ref_fasta_index": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.fai", "referenceData_hg38_hapmap_resource_vcf": "gs://gcp-public-data--broad-references/hg38/v0/hapmap_3.3.hg38.vcf.gz", "referenceData_b37Human_hapmap_resource_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/hapmap_3.3.b37.vcf.gz.tbi", "referenceData_hg38_omni_resource_vcf_index": "gs://gcp-public-data--broad-references/hg38/v0/1000G_omni2.5.hg38.vcf.gz.tbi", "referenceData_b37Human_ref_alt": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.alt", "referenceData_hg38_axiomPoly_resource_vcf": "gs://gcp-public-data--broad-references/hg38/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.hg38.vcf.gz", "referenceData_hg38_eval_interval_list": "gs://gcp-public-data--broad-references/hg38/v0/wgs_evaluation_regions.hg38.interval_list", "referenceData_b37Human_omni_resource_vcf_index": "gs://gcp-public-data--broad-references/hg19/v0/1000G_omni2.5.b37.vcf.gz.tbi", "referenceData_b37Human_known_indels_sites_VCFs": {"itemsType": "AttributeValue", "items": ["gs://gcp-public-data--broad-references/hg19/v0/Mills_and_1000G_gold_standard.indels.b37.vcf.gz", "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.known_indels_20120518.vcf"]}, "referenceData_hg38_omni_resource_vcf": "gs://gcp-public-data--broad-references/hg38/v0/1000G_omni2.5.hg38.vcf.gz", "referenceData_hg38_scattered_calling_intervals_list": "gs://gatk-test-data/intervals/hg38_wgs_scattered_calling_intervals.txt", "referenceData_b37Human_hapmap_resource_vcf": "gs://gcp-public-data--broad-references/hg19/v0/hapmap_3.3.b37.vcf.gz", "referenceData_hg38_unpadded_intervals_file": "gs://gatk-test-data/intervals/hg38.even.handcurated.20k.intervals", "referenceData_hg38_ref_pac": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.pac", "referenceData_hg38_ref_bwt": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.bwt", "referenceData_hg38_ref_ann": "gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.64.ann", "referenceData_b37Human_eval_interval_list": "gs://gcp-public-data--broad-references/hg19/v0/wgs_evaluation_regions.v1.interval_list", "referenceData_b37Human_ref_sa": "gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.64.sa"}, "authorizationDomain": [{"membersGroupName": "ccle-pipeline"}], "billingAccount": "billingAccounts/00F764-19F7CB-48DDCF", "bucketName": "fc-secure-6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6", "completedCloneWorkspaceFileTransfer": "2021-04-23T17:34:21.365Z", "createdBy": "jkalfon@broadinstitute.org", "createdDate": "2021-04-23T17:34:21.365Z", "googleProject": "broad-firecloud-ccle", "isLocked": false, "lastModified": "2022-03-23T16:35:57.009Z", "name": "CCLE_SNP_QC", "namespace": "broad-firecloud-ccle", "workflowCollectionName": "6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6", "workspaceId": "6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6", "workspaceVersion": "v1"}, "workspaceSubmissionStats": {"lastFailureDate": "2021-11-03T19:38:32.687Z", "lastSuccessDate": "2022-03-23T16:35:56.997Z", "runningSubmissionsCount": 0}}, "0": {"deleted": false, "inputs": {"fingerprint.run_fingerprint.ref_fasta": "workspace.referenceData_hg38_ref_fasta", "fingerprint.run_fingerprint.hardware_preemptible_tries": "4", "fingerprint.run_fingerprint.contamination": "", "fingerprint.run_fingerprint.bam_index": "this.internal_bai_filepath", "fingerprint.run_fingerprint.ref_dict": "workspace.referenceData_hg38_ref_dict", "fingerprint.run_fingerprint.output_name": "this.sample_id", "fingerprint.run_fingerprint.bam": "this.internal_bam_filepath", "fingerprint.run_fingerprint.hardware_disk_size_GB": "350", "fingerprint.run_fingerprint.ref_fasta_index": "workspace.referenceData_hg38_ref_fasta_index", "fingerprint.run_fingerprint.sample_alias": "this.sample_id", "fingerprint.run_fingerprint.hardware_memory_GB": "16", "fingerprint.run_fingerprint.locus_max_reads": "", "fingerprint.run_fingerprint.haplotype_map": ""}, "methodConfigVersion": 3, "methodRepoMethod": {"methodName": "fingerprint_bam", "methodVersion": 10, "methodNamespace": "colganwi", "methodUri": "agora://colganwi/fingerprint_bam/10", "sourceRepo": "agora"}, "name": "fingerprint_bam_hg38", "namespace": "broad-firecloud-ccle", "outputs": {"fingerprint.run_fingerprint.out": "this.fingerprints"}, "prerequisites": {}, "rootEntityType": "sample"}, "1": {"deleted": false, "inputs": {"crosscheck.run_crosscheck.genotyping_error_rate": "", "crosscheck.run_crosscheck.hardware_preemptible_tries": "2", "crosscheck.run_crosscheck.hardware_disk_size_GB": "", "crosscheck.run_crosscheck.output_name": "this.sample_batch_pair_id", "crosscheck.run_crosscheck.haplotype_map": "\"gs://ccle_default_params/fingerprinting_snps/ccle_29k_coding_snps_hg38.map\"", "crosscheck.run_crosscheck.loss_of_het_rate": "", "crosscheck.run_crosscheck.vcf_input_array": "this.sample_batch_a.samples.fingerprints", "crosscheck.run_crosscheck.tumor_aware_results": "", "crosscheck.run_crosscheck.hardware_memory_GB": "32", "crosscheck.run_crosscheck.vcf_second_input_array": "this.sample_batch_b.samples.fingerprints"}, "methodConfigVersion": 71, "methodRepoMethod": {"methodName": "crosscheck_vcfs", "methodVersion": 15, "methodNamespace": "colganwi", "methodUri": "agora://colganwi/crosscheck_vcfs/15", "sourceRepo": "agora"}, "name": "crosscheck_vcfs", "namespace": "colganwi", "outputs": {"crosscheck.run_crosscheck.out": "this.cross_checks_out"}, "prerequisites": {}, "rootEntityType": "sample_batch_pair"}, "2": {"deleted": false, "inputs": {"fingerprint.run_fingerprint.ref_fasta": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta\"", "fingerprint.run_fingerprint.hardware_preemptible_tries": "4", "fingerprint.run_fingerprint.contamination": "", "fingerprint.run_fingerprint.bam_index": "this.internal_bai_filepath", "fingerprint.run_fingerprint.ref_dict": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.dict\"", "fingerprint.run_fingerprint.output_name": "this.sample_id", "fingerprint.run_fingerprint.bam": "this.internal_bam_filepath", "fingerprint.run_fingerprint.hardware_disk_size_GB": "350", "fingerprint.run_fingerprint.ref_fasta_index": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.fai\"", "fingerprint.run_fingerprint.sample_alias": "this.sample_id", "fingerprint.run_fingerprint.hardware_memory_GB": "16", "fingerprint.run_fingerprint.locus_max_reads": "", "fingerprint.run_fingerprint.haplotype_map": "\"gs://fc-secure-6b6a3e1a-6fb8-4d30-b0df-a359e6c5d6e6/ccle_29k_coding_snps_hg38.map\""}, "methodConfigVersion": 47, "methodRepoMethod": {"methodName": "fingerprint_bam", "methodVersion": 10, "methodNamespace": "colganwi", "methodUri": "agora://colganwi/fingerprint_bam/10", "sourceRepo": "agora"}, "name": "fingerprint_bam", "namespace": "colganwi", "outputs": {"fingerprint.run_fingerprint.out": "this.fingerprints"}, "prerequisites": {}, "rootEntityType": "sample"}, "3": {"deleted": false, "inputs": {"fingerprint.run_fingerprint.hardware_preemptible_tries": "", "fingerprint.run_fingerprint.bam_ref_fasta": "\"gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta\"", "fingerprint.run_fingerprint.contamination": "", "fingerprint.run_fingerprint.bam_index": "this.bai_filepath", "fingerprint.run_fingerprint.liftover_ref_fasta": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta\"", "fingerprint.run_fingerprint.output_name": "this.sample_id", "fingerprint.run_fingerprint.bam": "this.bam_filepath", "fingerprint.run_fingerprint.bam_ref_fasta_index": "\"gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.fasta.fai\"", "fingerprint.run_fingerprint.hardware_disk_size_GB": "", "fingerprint.run_fingerprint.liftover_ref_fasta_index": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.fasta.fai\"", "fingerprint.run_fingerprint.liftover_ref_dict": "\"gs://gcp-public-data--broad-references/hg38/v0/Homo_sapiens_assembly38.dict\"", "fingerprint.run_fingerprint.liftover_chain": "\"gs://ccle_default_params/liftover/b37ToHg38.over.chain\"", "fingerprint.run_fingerprint.bam_ref_dict": "\"gs://gcp-public-data--broad-references/hg19/v0/Homo_sapiens_assembly19.dict\"", "fingerprint.run_fingerprint.sample_alias": "this.sample_id", "fingerprint.run_fingerprint.hardware_memory_GB": "", "fingerprint.run_fingerprint.locus_max_reads": "", "fingerprint.run_fingerprint.haplotype_map": "\"gs://ccle_default_params/fingerprinting_snps/ccle_29k_coding_snps_hg19.map\""}, "methodConfigVersion": 27, "methodRepoMethod": {"methodName": "fingerprint_bam_with_liftover", "methodVersion": 7, "methodNamespace": "colganwi", "methodUri": "agora://colganwi/fingerprint_bam_with_liftover/7", "sourceRepo": "agora"}, "name": "fingerprint_bam_with_liftover", "namespace": "colganwi", "outputs": {"fingerprint.run_fingerprint.out": "this.fingerprints"}, "prerequisites": {}, "rootEntityType": "sample"}}